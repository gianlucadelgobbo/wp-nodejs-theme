extends layout
block content
  .container-fluid
    article(itemscope, itemtype='http://schema.org/'+itemtype)
      .row
        .col-sm-9
          header
            h1.entry-title(itemprop='name')!=data.post_title
          .rientro
            div(itemprop='description')!=data.post_content
            .text-muted
              .dates
                .date=data.data_evento
                meta(itemprop="dateModified", content=data.datePublished)
            br
            include inc_share
        .col-sm-3
          img.img-responsive.main-image(src=data.featured.thumbnail, alt!=data.post_title, itemprop='image')
      if data['wpcf-add-grid-boxes'] && data['wpcf-rows'] && data['wpcf-columns']

        each row in data.grid
          if row
            .row
              - var conta = 0
              each col in row
                - if (col.tit) conta++
              - var lastspan = 12/conta
              - var span = (12-lastspan)/(conta-1)
              each col, index in row
                if col.tit && col.tit != "."
                  div(class="col-sm-" + (index<row.length-1 ? span : lastspan))
                    h3!=col.tit + (col.stit ? "<br /><small>" + col.stit + "</small>" : "")
                    if index<row.length-1
                      .rientro!=col.box
                    else
                      - console.log(data)
                      each box in data.posts
                        if box.post_type == "events"
                          include boxes/box_event
                        if box.post_type == "web-and-mobile"
                          include boxes/box_web
                        if box.post_type == "lab"
                          include boxes/box_lab
                        if box.post_type == "learning"
                          include boxes/box_learning
